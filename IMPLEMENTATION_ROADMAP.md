# 実装ロードマップ

## プロジェクト状況

✅ **詳細設計完了** - 実装準備完了

### 完成したドキュメント

1. ✅ [REQUIREMENTS.md](REQUIREMENTS.md) - 基本要件定義
2. ✅ [UI_UX_DESIGN.md](UI_UX_DESIGN.md) - UI/UX詳細設計（左右配置対応）
3. ✅ [TECHNICAL_DESIGN.md](TECHNICAL_DESIGN.md) - 技術設計書
4. ✅ [README.md](README.md) - プロジェクト概要
5. ✅ [requirements.txt](requirements.txt) - 依存パッケージ

---

## 実装フェーズ

### 📋 Phase 1: 基盤構築（推定: 2-3日）

#### 1.1 プロジェクト環境セットアップ
- [ ] 仮想環境の作成
- [ ] 依存パッケージのインストール
- [ ] ディレクトリ構造の作成

```bash
# コマンド例
cd code-snippet-manager
python -m venv venv
source venv/bin/activate  # macOS/Linux
pip install -r requirements.txt
```

#### 1.2 データベース実装
- [ ] `src/models/database.py` - DB接続・初期化
- [ ] `src/models/tag.py` - Tagモデル
- [ ] `src/models/snippet.py` - Snippetモデル
- [ ] `src/models/session.py` - Sessionモデル
- [ ] `src/models/settings.py` - Settingsモデル
- [ ] マイグレーション・初期データ投入

**成果物**: 動作するSQLiteデータベース

#### 1.3 設定システム実装
- [ ] `src/config/config.py` - 設定クラス（Pydantic）
- [ ] `config/settings.json` - デフォルト設定ファイル
- [ ] 設定の読み込み・保存機能

**成果物**: 設定管理システム

---

### 🎨 Phase 2: 基本UI（推定: 3-4日）

#### 2.1 ガジェットウィンドウ実装
- [ ] `src/views/gadget_window.py` - メインウィンドウ
  - [ ] 半透明ウィンドウの作成
  - [ ] 画面位置の設定（左右切り替え対応）
  - [ ] 常に最前面表示
  - [ ] 基本レイアウト

**成果物**: 画面に表示される半透明ウィンドウ

#### 2.2 階層ツリーウィジェット実装
- [ ] `src/views/tree_widget.py` - ツリービュー
  - [ ] データベースからのデータロード
  - [ ] 階層表示
  - [ ] アイコン・色の表示
  - [ ] 基本的な選択機能

**成果物**: タグ・スニペットが表示されるツリー

#### 2.3 その他UIコンポーネント
- [ ] `src/views/search_bar.py` - 検索バー
- [ ] `src/views/preview_panel.py` - プレビューパネル
- [ ] レイアウトの統合

**成果物**: 基本的なUIが揃った状態

---

### 🔧 Phase 3: コア機能（推定: 4-5日）

#### 3.1 スニペット管理機能
- [ ] `src/controllers/snippet_controller.py`
  - [ ] スニペットのCRUD操作
  - [ ] タグの作成・編集・削除
  - [ ] 階層の移動

**成果物**: データベースとUIが連携

#### 3.2 検索機能実装
- [ ] `src/controllers/search_controller.py`
  - [ ] インクリメンタルサーチ
  - [ ] あいまい検索（Fuzzy Search）
  - [ ] 検索履歴の管理
- [ ] `src/utils/fuzzy_search.py` - 検索ユーティリティ

**成果物**: リアルタイム検索が動作

#### 3.3 クリップボード・自動挿入
- [ ] `src/utils/clipboard.py` - クリップボード操作
- [ ] `src/utils/auto_insert.py` - 自動挿入
  - [ ] アクティブウィンドウへの挿入
  - [ ] プレースホルダー置換

**成果物**: コードの挿入が動作

---

### ⚡ Phase 4: 高度な機能（推定: 3-4日）

#### 4.1 ホットキーシステム
- [ ] `src/controllers/hotkey_controller.py`
  - [ ] Ctrlダブルタップの検出
  - [ ] グローバルホットキーの登録
  - [ ] カスタムホットキーの設定

**成果物**: ホットキーでガジェットが起動

#### 4.2 アニメーションシステム
- [ ] `src/controllers/animation_controller.py`
  - [ ] 展開アニメーション
  - [ ] 最小化アニメーション
  - [ ] フェードイン・アウト
  - [ ] イージング関数の適用

**成果物**: スムーズなアニメーション

#### 4.3 セッション管理
- [ ] `src/controllers/session_controller.py`
  - [ ] 前回位置の記憶
  - [ ] セッションの保存・復元
  - [ ] 自動非アクティブ化（3秒後）

**成果物**: 前回の状態を記憶

---

### 🎨 Phase 5: UI/UX改善（推定: 2-3日）

#### 5.1 シンタックスハイライト
- [ ] `src/utils/syntax_highlighter.py`
  - [ ] Pygmentsの統合
  - [ ] プレビューパネルでのハイライト表示

#### 5.2 編集ダイアログ
- [ ] `src/views/editor_dialog.py`
  - [ ] スニペット編集UI
  - [ ] プレースホルダー定義UI
  - [ ] バリデーション

#### 5.3 設定ダイアログ
- [ ] `src/views/settings_dialog.py`
  - [ ] 外観設定（左右配置、テーマ等）
  - [ ] 動作設定（ホットキー等）
  - [ ] リアルタイムプレビュー

**成果物**: 完成度の高いUI

---

### 🚀 Phase 6: 拡張機能（推定: 3-4日）

#### 6.1 インポート・エクスポート
- [ ] JSON形式でのエクスポート
- [ ] Markdown形式でのエクスポート
- [ ] 他のツールからのインポート

#### 6.2 使用統計
- [ ] 使用頻度の記録
- [ ] 統計ダッシュボード
- [ ] よく使うスニペットの表示

#### 6.3 追加機能
- [ ] お気に入り機能
- [ ] ショートカットキー（1キー起動）
- [ ] ドラッグ&ドロップでの並び替え

**成果物**: 実用的な拡張機能

---

### 🧪 Phase 7: テスト・最適化（推定: 2-3日）

#### 7.1 ユニットテスト
- [ ] モデルのテスト
- [ ] コントローラーのテスト
- [ ] ユーティリティのテスト

#### 7.2 統合テスト
- [ ] UIの統合テスト（pytest-qt）
- [ ] エンドツーエンドテスト

#### 7.3 パフォーマンス最適化
- [ ] データベースクエリの最適化
- [ ] UIレンダリングの最適化
- [ ] メモリ使用量の削減

**成果物**: 安定した動作

---

### 📚 Phase 8: ドキュメント・配布（推定: 2日）

#### 8.1 ユーザーマニュアル
- [ ] `docs/USER_MANUAL.md` - 使い方ガイド
- [ ] スクリーンショット付きチュートリアル

#### 8.2 API ドキュメント
- [ ] `docs/API.md` - 開発者向けAPI

#### 8.3 ビルド・配布
- [ ] PyInstallerでの実行ファイル作成
- [ ] インストーラーの作成
- [ ] GitHubリリース

**成果物**: 配布可能なアプリケーション

---

## 総推定時間

| フェーズ | 推定時間 | 内容 |
|---------|---------|------|
| Phase 1 | 2-3日 | 基盤構築 |
| Phase 2 | 3-4日 | 基本UI |
| Phase 3 | 4-5日 | コア機能 |
| Phase 4 | 3-4日 | 高度な機能 |
| Phase 5 | 2-3日 | UI/UX改善 |
| Phase 6 | 3-4日 | 拡張機能 |
| Phase 7 | 2-3日 | テスト・最適化 |
| Phase 8 | 2日 | ドキュメント・配布 |
| **合計** | **21-28日** | **フルタイム換算** |

※ 副業として進める場合: 2-3ヶ月程度

---

## マイルストーン

### 🎯 マイルストーン 1: MVP（Phase 1-3完了）
- データベースが動作
- 基本的なUIが表示
- スニペットの追加・検索・挿入が可能

**目標**: 最小限の機能で実際に使える状態

### 🎯 マイルストーン 2: アルファ版（Phase 1-5完了）
- ホットキーで起動
- アニメーションが動作
- セッション記憶機能

**目標**: Clibor相当の使い勝手

### 🎯 マイルストーン 3: ベータ版（Phase 1-6完了）
- 拡張機能が実装済み
- インポート・エクスポート対応
- 使用統計機能

**目標**: Clibor以上の機能性

### 🎯 マイルストーン 4: リリース候補（Phase 1-8完了）
- すべての機能が実装済み
- テスト完了
- ドキュメント整備済み

**目標**: 公開可能な品質

---

## 開発の優先順位

### 🔥 高優先度（MVP必須）
1. データベース実装
2. 基本UI（ガジェットウィンドウ、ツリー）
3. スニペット追加・削除
4. 検索機能
5. クリップボードコピー

### ⭐ 中優先度（アルファ版）
6. ホットキー
7. アニメーション
8. セッション記憶
9. 自動挿入

### 💎 低優先度（ベータ版以降）
10. シンタックスハイライト
11. 使用統計
12. インポート・エクスポート
13. プレースホルダー置換

---

## 実装開始の準備

### 準備チェックリスト

- ✅ 要件定義完了
- ✅ UI/UX設計完了
- ✅ 技術設計完了
- ✅ 依存パッケージリスト作成
- ⏳ 環境セットアップ（次のステップ）
- ⏳ 実装開始（あなたのペースで）

---

## 次のアクション

実装を開始する際は、以下の順序で進めることをお勧めします：

1. **環境セットアップ**
   ```bash
   cd code-snippet-manager
   python -m venv venv
   source venv/bin/activate
   pip install -r requirements.txt
   ```

2. **Phase 1.2: データベース実装から開始**
   - まずは `src/models/database.py` を作成
   - 基本的なモデル（Tag, Snippet）を実装
   - 簡単なテストで動作確認

3. **段階的に機能追加**
   - 動くものを少しずつ作る
   - 各フェーズの最後にテスト・確認

---

**実装準備完了！あなたのペースで開始してください。**

---

**作成日**: 2025-10-15
**バージョン**: 1.0
